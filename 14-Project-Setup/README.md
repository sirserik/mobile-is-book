# –ì–ª–∞–≤–∞ 14: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

## –í–≤–µ–¥–µ–Ω–∏–µ

–í —ç—Ç–æ–π –≥–ª–∞–≤–µ –º—ã —Å–æ–∑–¥–∞–¥–∏–º –ø–æ–ª–Ω—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞. –í—ã –Ω–∞—É—á–∏—Ç–µ—Å—å:
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å iOS –ø—Ä–æ–µ–∫—Ç
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏
- –°–æ–∑–¥–∞–≤–∞—Ç—å —Å–µ—Ç–µ–≤–æ–π —Å–ª–æ–π —Å –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º–∏
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Firebase –∏ –¥—Ä—É–≥–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

> **–ê–Ω–∞–ª–æ–≥–∏—è —Å –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π:** –≠—Ç–æ –∫–∞–∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ webpack, —Å–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–æ–∫ `src/`, `components/`, `services/` –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ npm –ø–∞–∫–µ—Ç–æ–≤ –≤ JavaScript –ø—Ä–æ–µ–∫—Ç–µ.

---

## 14.1 –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Xcode

### –®–∞–≥ 1: –ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç

1. –û—Ç–∫—Ä–æ–π—Ç–µ Xcode
2. **File ‚Üí New ‚Üí Project**
3. –í—ã–±–µ—Ä–∏—Ç–µ **iOS ‚Üí App**
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª—è:

```
Product Name:           ECommerce
Team:                   –í–∞—à Apple ID
Organization Identifier: com.yourname
Interface:              Storyboard
Language:               Swift
```

5. **–°–Ω–∏–º–∏—Ç–µ –≥–∞–ª–æ—á–∫–∏** —Å Use Core Data –∏ Include Tests (–¥–æ–±–∞–≤–∏–º –ø–æ–∑–∂–µ)
6. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç

### –®–∞–≥ 2: –£–¥–∞–ª–µ–Ω–∏–µ Storyboard (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **–ø—Ä–æ–≥—Ä–∞–º–º–Ω—É—é –≤—ë—Ä—Å—Ç–∫—É** ‚Äî —ç—Ç–æ –¥–∞—ë—Ç –±–æ–ª—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è –∏ —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É –≤ –∫–æ–º–∞–Ω–¥–µ.

1. –£–¥–∞–ª–∏—Ç–µ `Main.storyboard`
2. –í `Info.plist` —É–¥–∞–ª–∏—Ç–µ –∫–ª—é—á `Main storyboard file base name`
3. –í **Project ‚Üí Targets ‚Üí Info** —É–¥–∞–ª–∏—Ç–µ `Storyboard Name` –∏–∑ `Application Scene Manifest`

---

## 14.2 –ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–°–æ–∑–¥–∞–π—Ç–µ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫ (**–ø—Ä–∞–≤—ã–π –∫–ª–∏–∫ ‚Üí New Group**):

```
ECommerce/
‚îÇ
‚îú‚îÄ‚îÄ Core/                           # –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ AppDelegate.swift
‚îÇ   ‚îî‚îÄ‚îÄ SceneDelegate.swift
‚îÇ
‚îú‚îÄ‚îÄ Managers/                       # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ –º–µ–Ω–µ–¥–∂–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ AuthManager/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AuthManager.swift
‚îÇ   ‚îú‚îÄ‚îÄ BasketManager/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ BasketManager.swift
‚îÇ   ‚îú‚îÄ‚îÄ NetworkManager/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ NetworkManager.swift
‚îÇ   ‚îú‚îÄ‚îÄ StorageManager/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ RealmManager.swift
‚îÇ   ‚îú‚îÄ‚îÄ UserInfoManager/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ UserInfoManager.swift
‚îÇ   ‚îî‚îÄ‚îÄ RootWindowManager/
‚îÇ       ‚îî‚îÄ‚îÄ RootWindowManager.swift
‚îÇ
‚îú‚îÄ‚îÄ Entities/                       # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö –∏ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ Enums/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HTTPMethods.swift
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ NetworkError.swift
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ FirebaseError.swift
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ RealmError.swift
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ GeneralError.swift
‚îÇ   ‚îî‚îÄ‚îÄ Models/
‚îÇ       ‚îú‚îÄ‚îÄ ResponseModels/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ ProductModel.swift
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ CountryModel.swift
‚îÇ       ‚îî‚îÄ‚îÄ StorageModels/
‚îÇ           ‚îú‚îÄ‚îÄ FavoriteProductModel.swift
‚îÇ           ‚îú‚îÄ‚îÄ BasketModel.swift
‚îÇ           ‚îú‚îÄ‚îÄ AddressModel.swift
‚îÇ           ‚îî‚îÄ‚îÄ CardModel.swift
‚îÇ
‚îú‚îÄ‚îÄ Services/                       # API —Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ ProductsService/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProductsService.swift
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ProductsEndpoint.swift
‚îÇ   ‚îî‚îÄ‚îÄ CountriesService/
‚îÇ       ‚îú‚îÄ‚îÄ CountriesService.swift
‚îÇ       ‚îî‚îÄ‚îÄ CountriesEndpoint.swift
‚îÇ
‚îú‚îÄ‚îÄ Modules/                        # VIPER –º–æ–¥—É–ª–∏ (–∫–∞–∂–¥—ã–π —ç–∫—Ä–∞–Ω)
‚îÇ   ‚îú‚îÄ‚îÄ Onboarding/
‚îÇ   ‚îú‚îÄ‚îÄ Login/
‚îÇ   ‚îú‚îÄ‚îÄ SignUp/
‚îÇ   ‚îú‚îÄ‚îÄ MainTabBar/
‚îÇ   ‚îú‚îÄ‚îÄ Home/
‚îÇ   ‚îú‚îÄ‚îÄ ProductDetail/
‚îÇ   ‚îú‚îÄ‚îÄ Favorites/
‚îÇ   ‚îú‚îÄ‚îÄ Basket/
‚îÇ   ‚îú‚îÄ‚îÄ CompleteOrder/
‚îÇ   ‚îú‚îÄ‚îÄ OrderHistory/
‚îÇ   ‚îú‚îÄ‚îÄ Addresses/
‚îÇ   ‚îú‚îÄ‚îÄ PaymentInfo/
‚îÇ   ‚îî‚îÄ‚îÄ Profile/
‚îÇ
‚îú‚îÄ‚îÄ Utilities/                      # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ Extensions/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UIViewController+Extension.swift
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UIView+Extension.swift
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ String+Extension.swift
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ UITabBarController+Extension.swift
‚îÇ   ‚îú‚îÄ‚îÄ Helpers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UIScreenBounds.swift
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SnappingLayout.swift
‚îÇ   ‚îî‚îÄ‚îÄ Protocols/
‚îÇ       ‚îî‚îÄ‚îÄ EndpointProtocol.swift
‚îÇ
‚îî‚îÄ‚îÄ Resources/                      # –†–µ—Å—É—Ä—Å—ã
    ‚îú‚îÄ‚îÄ Assets.xcassets
    ‚îú‚îÄ‚îÄ LaunchScreen.storyboard
    ‚îî‚îÄ‚îÄ GoogleService-Info.plist
```

> **–ü–æ—á–µ–º—É —Ç–∞–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞?**
> - **Managers** ‚Äî –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–∞–Ω–∞–ª–æ–≥ —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ Angular/React)
> - **Entities** ‚Äî –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (–∞–Ω–∞–ª–æ–≥ TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤)
> - **Services** ‚Äî —Ä–∞–±–æ—Ç–∞ —Å API (–∞–Ω–∞–ª–æ–≥ fetch/axios –≤ JS)
> - **Modules** ‚Äî —ç–∫—Ä–∞–Ω—ã –ø–æ VIPER (–∞–Ω–∞–ª–æ–≥ —Å—Ç—Ä–∞–Ω–∏—Ü/–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
> - **Utilities** ‚Äî —Ö–µ–ª–ø–µ—Ä—ã –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

---

## 14.3 –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Swift Package Manager)

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–æ–≤

1. **File ‚Üí Add Package Dependencies...**
2. –î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞–∫–µ—Ç—ã:

| –ü–∞–∫–µ—Ç | URL | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-------|-----|--------|------------|
| SnapKit | `https://github.com/SnapKit/SnapKit` | 5.0.0+ | Auto Layout |
| Firebase | `https://github.com/firebase/firebase-ios-sdk` | 10.0.0+ | Auth, Firestore |
| GoogleSignIn | `https://github.com/google/GoogleSignIn-iOS` | 7.0.0+ | Google –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è |
| Realm | `https://github.com/realm/realm-swift` | 10.0.0+ | –õ–æ–∫–∞–ª—å–Ω–∞—è –ë–î |
| SDWebImage | `https://github.com/SDWebImage/SDWebImage` | 5.0.0+ | –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π |
| IQKeyboardManager | `https://github.com/hackiftekhar/IQKeyboardManagerSwift` | 6.0.0+ | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–æ–π |

### –í—ã–±–æ—Ä –ø—Ä–æ–¥—É–∫—Ç–æ–≤ Firebase

–ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ Firebase –≤—ã–±–µ—Ä–∏—Ç–µ:
- ‚úÖ FirebaseAuth
- ‚úÖ FirebaseFirestore
- ‚úÖ FirebaseAnalytics (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## 14.4 HTTP –º–µ—Ç–æ–¥—ã –∏ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫

### HTTPMethods.swift

```swift
// Entities/Enums/HTTPMethods.swift

import Foundation

/// HTTP –º–µ—Ç–æ–¥—ã –¥–ª—è —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
/// –ê–Ω–∞–ª–æ–≥ –≤ JS: method –≤ fetch({ method: 'GET' })
enum HTTPMethod: String {
    case get = "GET"       // –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–∞–Ω–∞–ª–æ–≥ fetch –±–µ–∑ body)
    case post = "POST"     // –°–æ–∑–¥–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–∞–Ω–∞–ª–æ–≥ fetch —Å body)
    case put = "PUT"       // –ü–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
    case patch = "PATCH"   // –ß–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
    case delete = "DELETE" // –£–¥–∞–ª–µ–Ω–∏–µ
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- `enum` —Å `String` raw value ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ `.rawValue`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ URLRequest –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è —Ç–∏–ø–∞ –∑–∞–ø—Ä–æ—Å–∞

### NetworkError.swift

```swift
// Entities/Enums/NetworkError.swift

import Foundation

/// –û—à–∏–±–∫–∏ —Å–µ—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è
/// –ö–∞–∂–¥—ã–π case –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É
enum NetworkError: Error, LocalizedError {
    case invalidURL           // –ù–µ–≤–µ—Ä–Ω—ã–π URL
    case invalidResponse      // –°–µ—Ä–≤–µ—Ä –≤–µ—Ä–Ω—É–ª –Ω–µ HTTP –æ—Ç–≤–µ—Ç
    case invalidURLRequest    // –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –∑–∞–ø—Ä–æ—Å
    case requestFailed        // –ó–∞–ø—Ä–æ—Å –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω
    case noConnection         // –ù–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
    case unauthorized         // 401 –æ—à–∏–±–∫–∞ (–Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω)

    /// –ß–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏
    /// –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ error.localizedDescription
    var errorDescription: String? {
        switch self {
        case .invalidURL:
            return "–ù–µ–≤–µ—Ä–Ω—ã–π –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞"
        case .invalidResponse:
            return "–°–µ—Ä–≤–µ—Ä –≤–µ—Ä–Ω—É–ª –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç"
        case .invalidURLRequest:
            return "–ù–µ —É–¥–∞–ª–æ—Å—å —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å"
        case .requestFailed:
            return "–ó–∞–ø—Ä–æ—Å –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω"
        case .noConnection:
            return "–û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É"
        case .unauthorized:
            return "–ù–µ–æ–±—Ö–æ–¥–∏–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è"
        }
    }
}
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ:**
- `Error` ‚Äî –ø—Ä–æ—Ç–æ–∫–æ–ª Swift –¥–ª—è —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫ (–∞–Ω–∞–ª–æ–≥ `throw new Error()` –≤ JS)
- `LocalizedError` ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ `errorDescription` –¥–ª—è UI
- `switch` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å exhaustive (–ø–æ–∫—Ä—ã–≤–∞—Ç—å –≤—Å–µ cases)

### FirebaseError.swift

```swift
// Entities/Enums/FirebaseError.swift

import Foundation

/// –û—à–∏–±–∫–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å Firebase
enum FirebaseError: Error, LocalizedError {
    case loginError              // –û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞
    case signUpError             // –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
    case sendEmailError          // –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ email
    case signOutError            // –û—à–∏–±–∫–∞ –≤—ã—Ö–æ–¥–∞
    case emailNotVerified        // Email –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω
    case passwordResetError      // –û—à–∏–±–∫–∞ —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è
    case googleSignInFailed      // Google Sign-In –Ω–µ —É–¥–∞–ª—Å—è
    case addProductToBasket      // –ù–µ —É–¥–∞–ª–æ—Å—å –¥–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
    case getBasketItemsFailed    // –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É
    case itemCouldNotBeRemoved   // –ù–µ —É–¥–∞–ª–æ—Å—å —É–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä
    case addOrderFailed          // –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑

    var errorDescription: String? {
        switch self {
        case .loginError:
            return "–ù–µ —É–¥–∞–ª–æ—Å—å –≤–æ–π—Ç–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ email –∏ –ø–∞—Ä–æ–ª—å"
        case .signUpError:
            return "–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è"
        case .sendEmailError:
            return "–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å email"
        case .signOutError:
            return "–ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞"
        case .emailNotVerified:
            return "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email –ø–µ—Ä–µ–¥ –≤—Ö–æ–¥–æ–º"
        case .passwordResetError:
            return "–ù–µ —É–¥–∞–ª–æ—Å—å —Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å"
        case .googleSignInFailed:
            return "–ù–µ —É–¥–∞–ª–æ—Å—å –≤–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google"
        case .addProductToBasket:
            return "–ù–µ —É–¥–∞–ª–æ—Å—å –¥–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä –≤ –∫–æ—Ä–∑–∏–Ω—É"
        case .getBasketItemsFailed:
            return "–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É"
        case .itemCouldNotBeRemoved:
            return "–ù–µ —É–¥–∞–ª–æ—Å—å —É–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä"
        case .addOrderFailed:
            return "–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑"
        }
    }
}
```

### RealmError.swift

```swift
// Entities/Enums/RealmError.swift

import Foundation

/// –û—à–∏–±–∫–∏ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ Realm
enum RealmError: Error, LocalizedError {
    case addFailed      // –ù–µ —É–¥–∞–ª–æ—Å—å –¥–æ–±–∞–≤–∏—Ç—å –æ–±—ä–µ–∫—Ç
    case updateFailed   // –ù–µ —É–¥–∞–ª–æ—Å—å –æ–±–Ω–æ–≤–∏—Ç—å
    case deleteFailed   // –ù–µ —É–¥–∞–ª–æ—Å—å —É–¥–∞–ª–∏—Ç—å

    var errorDescription: String? {
        switch self {
        case .addFailed:
            return "–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ"
        case .updateFailed:
            return "–ù–µ —É–¥–∞–ª–æ—Å—å –æ–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ"
        case .deleteFailed:
            return "–ù–µ —É–¥–∞–ª–æ—Å—å —É–¥–∞–ª–∏—Ç—å –¥–∞–Ω–Ω—ã–µ"
        }
    }
}
```

### GeneralError.swift

```swift
// Entities/Enums/GeneralError.swift

import Foundation

/// –û–±—â–∏–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–≤–∞–ª–∏–¥–∞—Ü–∏—è, –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)
enum GeneralError: Error, LocalizedError {
    case emailPasswordEmpty     // –ü—É—Å—Ç—ã–µ –ø–æ–ª—è email/password
    case addressInfoMissing     // –ù–µ –∑–∞–ø–æ–ª–Ω–µ–Ω –∞–¥—Ä–µ—Å
    case cardInfoMissing        // –ù–µ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã
    case emptyBasketError       // –ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞
    case emptyAddressOrCard     // –ù–µ –≤—ã–±—Ä–∞–Ω –∞–¥—Ä–µ—Å –∏–ª–∏ –∫–∞—Ä—Ç–∞

    var errorDescription: String? {
        switch self {
        case .emailPasswordEmpty:
            return "–í–≤–µ–¥–∏—Ç–µ email –∏ –ø–∞—Ä–æ–ª—å"
        case .addressInfoMissing:
            return "–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –∞–¥—Ä–µ—Å–∞"
        case .cardInfoMissing:
            return "–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã"
        case .emptyBasketError:
            return "–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞"
        case .emptyAddressOrCard:
            return "–í—ã–±–µ—Ä–∏—Ç–µ –∞–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏ –∏ —Å–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã"
        }
    }
}
```

---

## 14.5 –ü—Ä–æ—Ç–æ–∫–æ–ª Endpoint (–°–µ—Ç–µ–≤–æ–π —Å–ª–æ–π)

### EndpointProtocol.swift

```swift
// Utilities/Protocols/EndpointProtocol.swift

import Foundation

/// –ü—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è API endpoint
/// –ê–Ω–∞–ª–æ–≥ –≤ JS: –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è axios –∏–ª–∏ –æ–ø–∏—Å–∞–Ω–∏–µ route –≤ Express
///
/// –ö–∞–∂–¥—ã–π endpoint –¥–æ–ª–∂–µ–Ω —É–∫–∞–∑–∞—Ç—å:
/// - baseURL: –±–∞–∑–æ–≤—ã–π –∞–¥—Ä–µ—Å API
/// - path: –ø—É—Ç—å –∫ —Ä–µ—Å—É—Ä—Å—É
/// - httpMethod: GET, POST –∏ —Ç.–¥.
/// - headers: –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞
/// - parameters: –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞
protocol EndpointProtocol {
    var baseURL: URL { get }
    var path: String { get }
    var httpMethod: HTTPMethod { get }
    var headers: [String: String]? { get }
    var parameters: [String: Any]? { get }
}

// MARK: - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
extension EndpointProtocol {

    /// –°–æ–∑–¥–∞—ë—Ç URLRequest –∏–∑ endpoint
    /// –≠—Ç–æ –∫–∞–∫ —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–∞ –¥–ª—è fetch() –≤ JavaScript
    func urlRequest() throws -> URLRequest {
        // 1. –§–æ—Ä–º–∏—Ä—É–µ–º –ø–æ–ª–Ω—ã–π URL: baseURL + path
        // –ü—Ä–∏–º–µ—Ä: "https://api.com" + "/products" = "https://api.com/products"
        let url = baseURL.appendingPathComponent(path)

        // 2. –°–æ–∑–¥–∞—ë–º –æ–±—ä–µ–∫—Ç –∑–∞–ø—Ä–æ—Å–∞
        var urlRequest = URLRequest(url: url)

        // 3. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º HTTP –º–µ—Ç–æ–¥
        urlRequest.httpMethod = httpMethod.rawValue

        // 4. –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
        // –ê–Ω–∞–ª–æ–≥ headers –≤ fetch()
        if let headers = headers {
            headers.forEach { key, value in
                urlRequest.addValue(value, forHTTPHeaderField: key)
            }
        }

        // 5. –î–æ–±–∞–≤–ª—è–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
        if let parameters = parameters {
            switch httpMethod {
            case .get:
                // GET: –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ URL (?key=value&key2=value2)
                // –ê–Ω–∞–ª–æ–≥: fetch('/api?name=John&age=25')
                if var components = URLComponents(url: url, resolvingAgainstBaseURL: false) {
                    components.queryItems = parameters.map { key, value in
                        URLQueryItem(name: key, value: "\(value)")
                    }
                    urlRequest.url = components.url
                }

            case .post, .put, .delete, .patch:
                // POST/PUT/etc: –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ body –∫–∞–∫ JSON
                // –ê–Ω–∞–ª–æ–≥: fetch('/api', { body: JSON.stringify(data) })
                urlRequest.httpBody = try? JSONSerialization.data(withJSONObject: parameters)
                urlRequest.addValue("application/json", forHTTPHeaderField: "Content-Type")
            }
        }

        return urlRequest
    }
}
```

**–î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ:**

1. **–ü—Ä–æ—Ç–æ–∫–æ–ª –∫–∞–∫ –∫–æ–Ω—Ç—Ä–∞–∫—Ç** ‚Äî –ª—é–±–æ–π —Ç–∏–ø, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π `EndpointProtocol`, –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö —Å–≤–æ–π—Å—Ç–≤

2. **Extension —Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** ‚Äî `urlRequest()` —Ä–∞–±–æ—Ç–∞–µ—Ç "–∏–∑ –∫–æ—Ä–æ–±–∫–∏" –¥–ª—è –≤—Å–µ—Ö endpoint'–æ–≤

3. **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å JavaScript:**
```javascript
// JavaScript (fetch)
fetch('https://api.com/products?category=electronics', {
    method: 'GET',
    headers: { 'Authorization': 'Bearer token' }
});

// Swift (EndpointProtocol)
enum ProductsEndpoint: EndpointProtocol {
    case getByCategory(String)

    var baseURL: URL { URL(string: "https://api.com")! }
    var path: String { "/products" }
    var httpMethod: HTTPMethod { .get }
    var parameters: [String: Any]? { ["category": "electronics"] }
}
```

---

## 14.6 NetworkManager

```swift
// Managers/NetworkManager/NetworkManager.swift

import Foundation
import SystemConfiguration

/// –ú–µ–Ω–µ–¥–∂–µ—Ä —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
/// Singleton ‚Äî –æ–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –Ω–∞ –≤—Å—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
/// –ê–Ω–∞–ª–æ–≥ axios instance –≤ JavaScript
final class NetworkManager {

    // MARK: - Singleton
    /// –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä (–ø–∞—Ç—Ç–µ—Ä–Ω Singleton)
    /// –ê–Ω–∞–ª–æ–≥: const api = axios.create({ baseURL: '...' })
    static let shared = NetworkManager()

    // MARK: - Properties
    /// –î–µ–∫–æ–¥–µ—Ä JSON (–ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç Data –≤ Swift –æ–±—ä–µ–∫—Ç—ã)
    private let decoder = JSONDecoder()

    // MARK: - Init
    /// Private init –∑–∞–ø—Ä–µ—â–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –¥—Ä—É–≥–∏—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤
    private init() {}

    // MARK: - Reachability
    /// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É
    /// –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π API SystemConfiguration
    var isReachable: Bool {
        // –°–æ–∑–¥–∞—ë–º –æ–±—ä–µ–∫—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ apple.com
        guard let reachability = SCNetworkReachabilityCreateWithName(nil, "www.apple.com") else {
            return false
        }

        var flags = SCNetworkReachabilityFlags()
        SCNetworkReachabilityGetFlags(reachability, &flags)

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ñ–ª–∞–≥–∏:
        // - reachable: —Å–µ—Ç—å –¥–æ—Å—Ç—É–ø–Ω–∞
        // - connectionRequired: –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ (WiFi –≤—ã–∫–ª—é—á–µ–Ω)
        let isReachable = flags.contains(.reachable)
        let needsConnection = flags.contains(.connectionRequired)

        return isReachable && !needsConnection
    }

    // MARK: - Generic Request
    /// –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
    ///
    /// - Parameters:
    ///   - endpoint: –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ (URL, –º–µ—Ç–æ–¥, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
    ///   - type: –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, [Product].self)
    /// - Returns: –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–ª–∏ nil
    ///
    /// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
    /// ```
    /// let products = try await networkManager.request(
    ///     ProductsEndpoint.all,
    ///     type: [ProductModel].self
    /// )
    /// ```
    func request<T: Codable>(_ endpoint: EndpointProtocol, type: T.Type) async throws -> T? {
        // 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç
        guard isReachable else {
            throw NetworkError.noConnection
        }

        // 2. –°–æ–∑–¥–∞—ë–º URLRequest –∏–∑ endpoint
        let urlRequest = try endpoint.urlRequest()

        // 3. –í—ã–ø–æ–ª–Ω—è–µ–º –∑–∞–ø—Ä–æ—Å (async/await)
        // –ê–Ω–∞–ª–æ–≥: const response = await fetch(url)
        let (data, response) = try await URLSession.shared.data(for: urlRequest)

        // 4. –ü—Ä–æ–≤–µ—Ä—è–µ–º HTTP —Å—Ç–∞—Ç—É—Å
        guard let httpResponse = response as? HTTPURLResponse else {
            throw NetworkError.invalidResponse
        }

        // 5. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —Å—Ç–∞—Ç—É—Å –∫–æ–¥
        switch httpResponse.statusCode {
        case 200...299:
            // –£—Å–ø–µ—Ö ‚Äî –¥–µ–∫–æ–¥–∏—Ä—É–µ–º JSON –≤ Swift –æ–±—ä–µ–∫—Ç
            // –ê–Ω–∞–ª–æ–≥: const data = await response.json()
            let decodedData = try decoder.decode(T.self, from: data)
            return decodedData

        case 401:
            throw NetworkError.unauthorized

        default:
            throw NetworkError.invalidResponse
        }
    }
}
```

**–ö–ª—é—á–µ–≤—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏:**

1. **Singleton** ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ `NetworkManager.shared`

2. **Generic `<T: Codable>`** ‚Äî –º–µ—Ç–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º —Ç–∏–ø–æ–º, —Ä–µ–∞–ª–∏–∑—É—é—â–∏–º Codable:
```swift
// –û–¥–∏–Ω –º–µ—Ç–æ–¥ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö:
let products: [ProductModel]? = try await manager.request(endpoint, type: [ProductModel].self)
let categories: [String]? = try await manager.request(endpoint, type: [String].self)
```

3. **async/await** ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞ (–∫–∞–∫ –≤ JS):
```swift
// Swift                              // JavaScript
let data = try await fetch()          // const data = await fetch()
```

---

## 14.7 RealmManager (–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ)

```swift
// Managers/StorageManager/RealmManager.swift

import Foundation
import RealmSwift

/// –ú–µ–Ω–µ–¥–∂–µ—Ä –ª–æ–∫–∞–ª—å–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Realm
/// –ê–Ω–∞–ª–æ–≥ localStorage/IndexedDB –≤ –±—Ä–∞—É–∑–µ—Ä–µ, –Ω–æ —Å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π –ë–î
///
/// Realm ‚Äî —ç—Ç–æ:
/// - –ë—ã—Å—Ç—Ä–∞—è –º–æ–±–∏–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
/// - –•—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
/// - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
/// - –†–∞–±–æ—Ç–∞–µ—Ç —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ –Ω–∞–ø—Ä—è–º—É—é (–Ω–µ SQL)
final class RealmManager {

    // MARK: - Singleton
    static let shared = RealmManager()

    // MARK: - Properties
    /// –≠–∫–∑–µ–º–ø–ª—è—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    /// try! ‚Äî crash –ø—Ä–∏ –æ—à–∏–±–∫–µ (Realm –¥–æ–ª–∂–µ–Ω –≤—Å–µ–≥–¥–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è)
    private let realm = try! Realm()

    // MARK: - Init
    private init() {
        // –í—ã–≤–æ–¥–∏–º –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –ë–î (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
        print("üìÅ Realm path: \(realm.configuration.fileURL?.absoluteString ?? "unknown")")
    }

    // MARK: - CRUD Operations

    /// CREATE ‚Äî –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞
    /// –ê–Ω–∞–ª–æ–≥: localStorage.setItem(key, JSON.stringify(object))
    ///
    /// - Parameters:
    ///   - object: –û–±—ä–µ–∫—Ç –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (–¥–æ–ª–∂–µ–Ω –Ω–∞—Å–ª–µ–¥–æ–≤–∞—Ç—å –æ—Ç Object)
    ///   - onError: Callback –ø—Ä–∏ –æ—à–∏–±–∫–µ
    func create<T: Object>(_ object: T, onError: (RealmError) -> Void) {
        do {
            // write ‚Äî —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –∑–∞–ø–∏—Å–∏ (–∞—Ç–æ–º–∞—Ä–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è)
            try realm.write {
                realm.add(object)
            }
        } catch {
            onError(.addFailed)
        }
    }

    /// READ ‚Äî –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞
    /// –ê–Ω–∞–ª–æ–≥: JSON.parse(localStorage.getItem(key))
    ///
    /// - Parameter object: –¢–∏–ø –æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è
    /// - Returns: –ú–∞—Å—Å–∏–≤ –æ–±—ä–µ–∫—Ç–æ–≤
    ///
    /// –ü—Ä–∏–º–µ—Ä:
    /// ```
    /// let favorites = realmManager.getAll(FavoriteProductModel.self)
    /// ```
    func getAll<T: Object>(_ object: T.Type) -> [T] {
        // objects() –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Results<T> ‚Äî lazy –∫–æ–ª–ª–µ–∫—Ü–∏—é
        // Array() ‚Äî –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º –≤ –æ–±—ã—á–Ω—ã–π –º–∞—Å—Å–∏–≤
        let results = realm.objects(object)
        return Array(results)
    }

    /// UPDATE ‚Äî –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –æ–±—ä–µ–∫—Ç–∞
    ///
    /// - Parameters:
    ///   - object: –û–±—ä–µ–∫—Ç –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    ///   - dictionary: –°–ª–æ–≤–∞—Ä—å —Å –Ω–æ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
    ///   - onError: Callback –ø—Ä–∏ –æ—à–∏–±–∫–µ
    ///
    /// –ü—Ä–∏–º–µ—Ä:
    /// ```
    /// realmManager.update(address, with: ["city": "–ú–æ—Å–∫–≤–∞", "street": "–¢–≤–µ—Ä—Å–∫–∞—è"])
    /// ```
    func update<T: Object>(_ object: T, with dictionary: [String: Any?], onError: (RealmError) -> Void) {
        do {
            try realm.write {
                // setValuesForKeys ‚Äî —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ –∫–ª—é—á–∞–º
                // compactMapValues ‚Äî —É–±–∏—Ä–∞–µ—Ç nil –∑–Ω–∞—á–µ–Ω–∏—è
                object.setValuesForKeys(dictionary.compactMapValues { $0 })
            }
        } catch {
            onError(.updateFailed)
        }
    }

    /// DELETE ‚Äî –£–¥–∞–ª–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞
    ///
    /// - Parameters:
    ///   - object: –û–±—ä–µ–∫—Ç –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
    ///   - onError: Callback –ø—Ä–∏ –æ—à–∏–±–∫–µ
    func delete<T: Object>(_ object: T, onError: (RealmError) -> Void) {
        do {
            try realm.write {
                realm.delete(object)
            }
        } catch {
            onError(.deleteFailed)
        }
    }

    /// DELETE ALL ‚Äî –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞
    func deleteAll<T: Object>(_ type: T.Type, onError: (RealmError) -> Void) {
        do {
            try realm.write {
                let objects = realm.objects(type)
                realm.delete(objects)
            }
        } catch {
            onError(.deleteFailed)
        }
    }

    /// FILTER ‚Äî –ü–æ–ª—É—á–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
    ///
    /// - Parameters:
    ///   - type: –¢–∏–ø –æ–±—ä–µ–∫—Ç–æ–≤
    ///   - predicate: –£—Å–ª–æ–≤–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (NSPredicate)
    /// - Returns: –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
    ///
    /// –ü—Ä–∏–º–µ—Ä:
    /// ```
    /// // –ü–æ–ª—É—á–∏—Ç—å –∏–∑–±—Ä–∞–Ω–Ω–æ–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    /// let myFavorites = realmManager.filter(
    ///     FavoriteProductModel.self,
    ///     predicate: NSPredicate(format: "userId == %@", currentUserId)
    /// )
    /// ```
    func filter<T: Object>(_ type: T.Type, predicate: NSPredicate) -> [T] {
        let results = realm.objects(type).filter(predicate)
        return Array(results)
    }
}
```

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å JavaScript:**

| Realm (Swift) | JavaScript |
|---------------|------------|
| `realm.add(object)` | `localStorage.setItem(key, JSON.stringify(obj))` |
| `realm.objects(Type.self)` | `JSON.parse(localStorage.getItem(key))` |
| `realm.delete(object)` | `localStorage.removeItem(key)` |
| `filter(predicate)` | `array.filter(item => ...)` |

---

## 14.8 UserInfoManager

```swift
// Managers/UserInfoManager/UserInfoManager.swift

import Foundation
import FirebaseAuth

/// –ü—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
protocol UserInfoManagerProtocol {
    func getUserProfilePictureAndEmail(completion: @escaping (_ photo: String?, _ email: String?) -> Void)
    func getUserUid() -> String?
}

/// –ú–µ–Ω–µ–¥–∂–µ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
/// –ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ Firebase Auth
final class UserInfoManager: UserInfoManagerProtocol {

    /// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ñ–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è –∏ email —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    ///
    /// - Parameter completion: Callback —Å URL —Ñ–æ—Ç–æ –∏ email
    ///
    /// Firebase Auth —Ö—Ä–∞–Ω–∏—Ç –±–∞–∑–æ–≤—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ:
    /// - uid: —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
    /// - email: —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞
    /// - displayName: –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    /// - photoURL: URL –∞–≤–∞—Ç–∞—Ä–∞ (–µ—Å–ª–∏ –≤–æ—à—ë–ª —á–µ—Ä–µ–∑ Google)
    func getUserProfilePictureAndEmail(completion: @escaping (_ photo: String?, _ email: String?) -> Void) {
        // Auth.auth().currentUser ‚Äî —Ç–µ–∫—É—â–∏–π –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
        // nil –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–æ—à—ë–ª
        guard let currentUser = Auth.auth().currentUser else {
            completion(nil, nil)
            return
        }

        // photoURL ‚Äî URL –∏–∑ Google –ø—Ä–æ—Ñ–∏–ª—è (–µ—Å–ª–∏ –≤–æ—à—ë–ª —á–µ—Ä–µ–∑ Google)
        // absoluteString ‚Äî –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ–º URL –≤ String
        let photoURL = currentUser.photoURL?.absoluteString
        let email = currentUser.email

        completion(photoURL, email)
    }

    /// –ü–æ–ª—É—á–µ–Ω–∏–µ UID —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    ///
    /// UID ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ Firebase
    /// –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö (–∫–æ—Ä–∑–∏–Ω–∞, –∏–∑–±—Ä–∞–Ω–Ω–æ–µ –∏ —Ç.–¥.)
    func getUserUid() -> String? {
        return Auth.auth().currentUser?.uid
    }
}
```

---

## 14.9 RootWindowManager

```swift
// Managers/RootWindowManager/RootWindowManager.swift

import UIKit

/// –ü—Ä–æ—Ç–æ–∫–æ–ª –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ—Ä–Ω–µ–≤—ã–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–º
protocol RootWindowManagerProtocol {
    func changeRootViewController(_ viewController: UIViewController, animated: Bool)
}

/// –ú–µ–Ω–µ–¥–∂–µ—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ—Ä–Ω–µ–≤—ã–º –æ–∫–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
///
/// –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–º–µ–Ω—ã —ç–∫—Ä–∞–Ω–æ–≤ –Ω–∞ —É—Ä–æ–≤–Ω–µ –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
/// - –ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞: Login ‚Üí MainTabBar
/// - –ü–æ—Å–ª–µ –≤—ã—Ö–æ–¥–∞: MainTabBar ‚Üí Login
///
/// –ê–Ω–∞–ª–æ–≥ –≤ –≤–µ–±: window.location.href = '/dashboard'
final class RootWindowManager: RootWindowManagerProtocol {

    // MARK: - Singleton
    static let shared = RootWindowManager()

    // MARK: - Properties
    /// –°—Å—ã–ª–∫–∞ –Ω–∞ –≥–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    /// –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ SceneDelegate
    var window: UIWindow?

    // MARK: - Init
    private init() {}

    // MARK: - Methods

    /// –°–º–µ–Ω–∞ –∫–æ—Ä–Ω–µ–≤–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
    ///
    /// - Parameters:
    ///   - viewController: –ù–æ–≤—ã–π –∫–æ—Ä–Ω–µ–≤–æ–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
    ///   - animated: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é –ø–µ—Ä–µ—Ö–æ–¥–∞
    ///
    /// –ü—Ä–∏–º–µ—Ä:
    /// ```
    /// // –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞
    /// RootWindowManager.shared.changeRootViewController(
    ///     MainTabBarRouter.startTabBarModule(),
    ///     animated: true
    /// )
    /// ```
    func changeRootViewController(_ viewController: UIViewController, animated: Bool) {
        guard let window = window else { return }

        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–æ–≤—ã–π –∫–æ—Ä–Ω–µ–≤–æ–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
        window.rootViewController = viewController

        // –ê–Ω–∏–º–∞—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞ (fade)
        if animated {
            // UIView.transition ‚Äî –∞–Ω–∏–º–∞—Ü–∏—è —Å–º–µ–Ω—ã —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ view
            UIView.transition(
                with: window,
                duration: 0.3,
                options: .transitionCrossDissolve,  // –ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ
                animations: nil,
                completion: nil
            )
        }

        // –î–µ–ª–∞–µ–º –æ–∫–Ω–æ –∞–∫—Ç–∏–≤–Ω—ã–º
        window.makeKeyAndVisible()
    }
}
```

---

## 14.10 AppDelegate

```swift
// Core/AppDelegate.swift

import UIKit
import FirebaseCore
import GoogleSignIn
import IQKeyboardManagerSwift

@main
class AppDelegate: UIResponder, UIApplicationDelegate {

    // MARK: - Init
    /// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ AppDelegate
    /// –ò—Å–ø–æ–ª—å–∑—É–µ–º –¥–ª—è —Ä–∞–Ω–Ω–µ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ UI
    override init() {
        super.init()

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ü–≤–µ—Ç–∞ Navigation Bar –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        // –ê–Ω–∞–ª–æ–≥: :root { --nav-color: black; } –≤ CSS
        UINavigationBar.appearance().tintColor = .label  // .label = —á—ë—Ä–Ω—ã–π/–±–µ–ª—ã–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–µ–º—ã
    }

    // MARK: - Application Lifecycle

    /// –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    /// –ê–Ω–∞–ª–æ–≥: document.addEventListener('DOMContentLoaded', ...)
    func application(
        _ application: UIApplication,
        didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?
    ) -> Bool {

        // 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase
        // –ß–∏—Ç–∞–µ—Ç GoogleService-Info.plist –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç SDK
        FirebaseApp.configure()

        // 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ IQKeyboardManager
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
        IQKeyboardManager.shared.enable = true
        IQKeyboardManager.shared.resignOnTouchOutside = true  // –°–∫—Ä—ã–≤–∞—Ç—å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É –ø—Ä–∏ —Ç–∞–ø–µ –≤–Ω–µ –ø–æ–ª—è

        return true
    }

    // MARK: - URL Handling

    /// –û–±—Ä–∞–±–æ—Ç–∫–∞ URL schemes (–¥–ª—è Google Sign-In)
    /// –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–æ–≥–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ custom URL
    func application(
        _ app: UIApplication,
        open url: URL,
        options: [UIApplication.OpenURLOptionsKey: Any] = [:]
    ) -> Bool {
        // –ü–µ—Ä–µ–¥–∞—ë–º URL –≤ Google Sign-In SDK –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ callback
        return GIDSignIn.sharedInstance.handle(url)
    }

    // MARK: - UISceneSession Lifecycle

    /// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–π —Å—Ü–µ–Ω—ã (–¥–ª—è multi-window –Ω–∞ iPad)
    func application(
        _ application: UIApplication,
        configurationForConnecting connectingSceneSession: UISceneSession,
        options: UIScene.ConnectionOptions
    ) -> UISceneConfiguration {
        return UISceneConfiguration(name: "Default Configuration", sessionRole: connectingSceneSession.role)
    }
}
```

---

## 14.11 SceneDelegate

```swift
// Core/SceneDelegate.swift

import UIKit
import FirebaseAuth

class SceneDelegate: UIResponder, UIWindowSceneDelegate {

    // MARK: - Properties
    /// –ì–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    var window: UIWindow?

    // MARK: - Scene Lifecycle

    /// –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å—Ü–µ–Ω—ã (–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
    /// –ó–¥–µ—Å—å –æ–ø—Ä–µ–¥–µ–ª—è–µ–º, –∫–∞–∫–æ–π —ç–∫—Ä–∞–Ω –ø–æ–∫–∞–∑–∞—Ç—å –ø–µ—Ä–≤—ã–º
    func scene(
        _ scene: UIScene,
        willConnectTo session: UISceneSession,
        options connectionOptions: UIScene.ConnectionOptions
    ) {
        // 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ scene ‚Äî —ç—Ç–æ UIWindowScene
        guard let windowScene = (scene as? UIWindowScene) else { return }

        // 2. –°–æ–∑–¥–∞—ë–º –æ–∫–Ω–æ —Å —Ä–∞–∑–º–µ—Ä–∞–º–∏ —Å—Ü–µ–Ω—ã
        window = UIWindow(frame: windowScene.coordinateSpace.bounds)
        window?.windowScene = windowScene

        // 3. –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–æ—Ä–Ω–µ–≤–æ–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
        // Auth.auth().currentUser ‚Äî —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å Firebase
        // nil = –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –Ω–µ nil = –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
        if Auth.auth().currentUser != nil {
            // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–æ—à—ë–ª ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
            window?.rootViewController = MainTabBarRouter.startTabBarModule()
        } else {
            // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–æ—à—ë–ª ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–Ω–±–æ—Ä–¥–∏–Ω–≥/–ª–æ–≥–∏–Ω
            let onboardingVC = OnboardingRouter.startOnboarding()
            window?.rootViewController = UINavigationController(rootViewController: onboardingVC)
        }

        // 4. –î–µ–ª–∞–µ–º –æ–∫–Ω–æ –≤–∏–¥–∏–º—ã–º
        window?.makeKeyAndVisible()

        // 5. –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ –æ–∫–Ω–æ –≤ RootWindowManager
        // –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –º–µ–Ω—è—Ç—å –∫–æ—Ä–Ω–µ–≤–æ–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∏–∑ –ª—é–±–æ–≥–æ –º–µ—Å—Ç–∞
        RootWindowManager.shared.window = window
    }

    // MARK: - Scene State Changes

    /// –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Ö–æ–¥–∏—Ç –≤ background
    func sceneDidEnterBackground(_ scene: UIScene) {
        // –ú–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–ª–∏ –æ—Ç–º–µ–Ω–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏
    }

    /// –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∏–∑ background
    func sceneWillEnterForeground(_ scene: UIScene) {
        // –ú–æ–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
    }
}
```

**–î–∏–∞–≥—Ä–∞–º–º–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:**

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     SceneDelegate                         ‚îÇ
‚îÇ                          ‚îÇ                                ‚îÇ
‚îÇ              Auth.auth().currentUser                      ‚îÇ
‚îÇ                    /          \                           ‚îÇ
‚îÇ                  nil        not nil                       ‚îÇ
‚îÇ                  /              \                         ‚îÇ
‚îÇ         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îÇ
‚îÇ         ‚îÇ  Onboarding   ‚îÇ  ‚îÇ   MainTabBarVC      ‚îÇ       ‚îÇ
‚îÇ         ‚îÇ      ‚îÇ        ‚îÇ  ‚îÇ   ‚îå‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îê     ‚îÇ       ‚îÇ
‚îÇ         ‚îÇ      ‚ñº        ‚îÇ  ‚îÇ   ‚îÇüè†‚îÇ‚ù§Ô∏è‚îÇüõí‚îÇüë§‚îÇ     ‚îÇ       ‚îÇ
‚îÇ         ‚îÇ    Login      ‚îÇ  ‚îÇ   ‚îî‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îò     ‚îÇ       ‚îÇ
‚îÇ         ‚îÇ      ‚îÇ        ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ-‚îò       ‚îÇ
‚îÇ         ‚îÇ      ‚ñº        ‚îÇ                                 ‚îÇ
‚îÇ         ‚îÇ   SignUp      ‚îÇ                                 ‚îÇ
‚îÇ         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## 14.12 –†–∞—Å—à–∏—Ä–µ–Ω–∏—è (Extensions)

### UIViewController+Extension.swift

```swift
// Utilities/Extensions/UIViewController+Extension.swift

import UIKit

extension UIViewController {

    /// –ü–æ–∫–∞–∑ –ø—Ä–æ—Å—Ç–æ–≥–æ alert —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º
    /// –ê–Ω–∞–ª–æ–≥: alert('–°–æ–æ–±—â–µ–Ω–∏–µ') –≤ JavaScript
    ///
    /// - Parameters:
    ///   - title: –ó–∞–≥–æ–ª–æ–≤–æ–∫ alert
    ///   - message: –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
    func showAlert(title: String, message: String) {
        let alert = UIAlertController(
            title: title,
            message: message,
            preferredStyle: .alert
        )

        alert.addAction(UIAlertAction(title: "OK", style: .default))

        present(alert, animated: true)
    }

    /// Alert –¥–ª—è —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è —Å —Ç–µ–∫—Å—Ç–æ–≤—ã–º –ø–æ–ª–µ–º
    /// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–≤–µ–¥—ë–Ω–Ω—ã–π email —á–µ—Ä–µ–∑ completion
    func passwordResetAlert(completion: @escaping (String) -> Void) {
        let alert = UIAlertController(
            title: "–°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è",
            message: "–í–≤–µ–¥–∏—Ç–µ email –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Å—ã–ª–∫–∏",
            preferredStyle: .alert
        )

        // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ –≤ alert
        alert.addTextField { textField in
            textField.placeholder = "Email"
            textField.keyboardType = .emailAddress
        }

        // –ö–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏
        let sendAction = UIAlertAction(title: "–û—Ç–ø—Ä–∞–≤–∏—Ç—å", style: .default) { _ in
            if let email = alert.textFields?.first?.text, !email.isEmpty {
                completion(email)
            }
        }

        // –ö–Ω–æ–ø–∫–∞ –æ—Ç–º–µ–Ω—ã
        let cancelAction = UIAlertAction(title: "–û—Ç–º–µ–Ω–∞", style: .cancel)

        alert.addAction(sendAction)
        alert.addAction(cancelAction)

        present(alert, animated: true)
    }

    /// Sheet alert –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —É–¥–∞–ª–µ–Ω–∏—è
    /// –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞ (action sheet)
    func deleteAllSheetAlert(completion: @escaping () -> Void) {
        let alert = UIAlertController(
            title: "–£–¥–∞–ª–∏—Ç—å –≤—Å—ë?",
            message: "–≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å",
            preferredStyle: .actionSheet  // –°–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞
        )

        let deleteAction = UIAlertAction(title: "–£–¥–∞–ª–∏—Ç—å", style: .destructive) { _ in
            completion()
        }

        let cancelAction = UIAlertAction(title: "–û—Ç–º–µ–Ω–∞", style: .cancel)

        alert.addAction(deleteAction)
        alert.addAction(cancelAction)

        present(alert, animated: true)
    }
}
```

### UIView+Extension.swift

```swift
// Utilities/Extensions/UIView+Extension.swift

import UIKit

extension UIView {

    /// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö subviews –æ–¥–Ω–∏–º –≤—ã–∑–æ–≤–æ–º
    /// –ê–Ω–∞–ª–æ–≥: parent.append(child1, child2, child3) –≤ JS
    func addSubviews(_ views: UIView...) {
        views.forEach { addSubview($0) }
    }

    /// –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ —É–≥–ª–æ–≤
    func roundCorners(radius: CGFloat) {
        layer.cornerRadius = radius
        clipsToBounds = true
    }

    /// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–Ω–∏
    /// –ê–Ω–∞–ª–æ–≥: box-shadow –≤ CSS
    func addShadow(
        color: UIColor = .black,
        opacity: Float = 0.1,
        radius: CGFloat = 8,
        offset: CGSize = CGSize(width: 0, height: 2)
    ) {
        layer.shadowColor = color.cgColor
        layer.shadowOpacity = opacity
        layer.shadowRadius = radius
        layer.shadowOffset = offset
        layer.masksToBounds = false
    }

    /// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≥—Ä–∞–Ω–∏—Ü—ã
    /// –ê–Ω–∞–ª–æ–≥: border –≤ CSS
    func addBorder(color: UIColor, width: CGFloat = 1) {
        layer.borderColor = color.cgColor
        layer.borderWidth = width
    }
}
```

### String+Extension.swift

```swift
// Utilities/Extensions/String+Extension.swift

import UIKit

extension String {

    /// –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —à–∏—Ä–∏–Ω—ã —Ç–µ–∫—Å—Ç–∞ –ø—Ä–∏ –∑–∞–¥–∞–Ω–Ω–æ–π –≤—ã—Å–æ—Ç–µ –∏ —à—Ä–∏—Ñ—Ç–µ
    /// –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ —è—á–µ–µ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
    ///
    /// - Parameters:
    ///   - height: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞
    ///   - font: –®—Ä–∏—Ñ—Ç —Ç–µ–∫—Å—Ç–∞
    /// - Returns: –®–∏—Ä–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞
    func width(withConstrainedHeight height: CGFloat, font: UIFont) -> CGFloat {
        let constraintRect = CGSize(width: .greatestFiniteMagnitude, height: height)

        let boundingBox = self.boundingRect(
            with: constraintRect,
            options: .usesLineFragmentOrigin,
            attributes: [.font: font],
            context: nil
        )

        return ceil(boundingBox.width)
    }

    /// –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ email
    var isValidEmail: Bool {
        let emailRegex = "[A-Z0-9a-z._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,64}"
        let predicate = NSPredicate(format: "SELF MATCHES %@", emailRegex)
        return predicate.evaluate(with: self)
    }

    /// –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–±–µ–ª–æ–≤ –ø–æ –∫—Ä–∞—è–º
    var trimmed: String {
        trimmingCharacters(in: .whitespacesAndNewlines)
    }
}
```

---

## 14.13 –•–µ–ª–ø–µ—Ä—ã

### UIScreenBounds.swift

```swift
// Utilities/Helpers/UIScreenBounds.swift

import UIKit

/// –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ä–∞–∑–º–µ—Ä–∞–º —ç–∫—Ä–∞–Ω–∞
/// –ê–Ω–∞–ª–æ–≥: window.innerWidth, window.innerHeight –≤ JavaScript
struct UIScreenBounds {
    static let width = UIScreen.main.bounds.width
    static let height = UIScreen.main.bounds.height
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
// let cellWidth = UIScreenBounds.width / 2 - 20
```

---

## 14.14 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firebase

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [console.firebase.google.com](https://console.firebase.google.com)
2. –ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç"**
3. –í–≤–µ–¥–∏—Ç–µ –∏–º—è: `ECommerce`
4. Google Analytics ‚Äî –ø–æ –∂–µ–ª–∞–Ω–∏—é

### –®–∞–≥ 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. –í –∫–æ–Ω—Å–æ–ª–∏ –Ω–∞–∂–º–∏—Ç–µ **"–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ" ‚Üí iOS**
2. Bundle ID: `com.yourname.ECommerce` (–∏–∑ Xcode)
3. –°–∫–∞—á–∞–π—Ç–µ `GoogleService-Info.plist`
4. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª –≤ Xcode ‚Üí –ø–∞–ø–∫—É `Resources`
5. ‚úÖ Copy items if needed

### –®–∞–≥ 3: –í–∫–ª—é—á–µ–Ω–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

1. Firebase Console ‚Üí **Authentication**
2. **Sign-in method** ‚Üí –í–∫–ª—é—á–∏—Ç–µ:
   - ‚úÖ Email/Password
   - ‚úÖ Google

### –®–∞–≥ 4: –°–æ–∑–¥–∞–Ω–∏–µ Firestore

1. Firebase Console ‚Üí **Firestore Database**
2. **Create database**
3. –í—ã–±–µ—Ä–∏—Ç–µ **Start in test mode** (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–≥–∏–æ–Ω (–±–ª–∏–∂–∞–π—à–∏–π)

### –®–∞–≥ 5: URL Scheme –¥–ª—è Google Sign-In

1. –û—Ç–∫—Ä–æ–π—Ç–µ `GoogleService-Info.plist`
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ `REVERSED_CLIENT_ID`
3. –í Xcode: **Project ‚Üí Targets ‚Üí Info ‚Üí URL Types**
4. –ù–∞–∂–º–∏—Ç–µ **+** –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ **URL Schemes**

---

## 14.15 –ò—Ç–æ–≥–∏ –≥–ª–∞–≤—ã

–í —ç—Ç–æ–π –≥–ª–∞–≤–µ –≤—ã —Å–æ–∑–¥–∞–ª–∏ –ø–æ–ª–Ω—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ –º–æ–¥—É–ª—è–º

‚úÖ –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ (NetworkError, FirebaseError, RealmError)

‚úÖ –°–µ—Ç–µ–≤–æ–π —Å–ª–æ–π —Å –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º–∏ (EndpointProtocol, NetworkManager)

‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (RealmManager)

‚úÖ –ú–µ–Ω–µ–¥–∂–µ—Ä—ã –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (UserInfoManager, RootWindowManager)

‚úÖ AppDelegate –∏ SceneDelegate —Å Firebase

‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–∏—è –∏ —Ö–µ–ª–ø–µ—Ä—ã

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π

| iOS (Swift) | Web (JavaScript) |
|-------------|------------------|
| `NetworkManager` | `axios.create()` |
| `EndpointProtocol` | Route configuration |
| `RealmManager` | `localStorage` / IndexedDB |
| `enum Error` | `class CustomError extends Error` |
| `AppDelegate` | `index.js` / entry point |
| `SceneDelegate` | Router initialization |

---

## –°–ª–µ–¥—É—é—â–∞—è –≥–ª–∞–≤–∞

–í [–ì–ª–∞–≤–µ 15](../15-Authentication/README.md) –º—ã —Å–æ–∑–¥–∞–¥–∏–º –ø–æ–ª–Ω—ã–π –º–æ–¥—É–ª—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å Firebase, Google Sign-In –∏ Onboarding.
